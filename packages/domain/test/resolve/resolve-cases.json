[
  {
    "name": "R-001 class interpolation → className on <div>",
    "markup": "<div class=\"a ${b} c\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "class", "to": "className", "target": "native" }
      ]
    }
  },
  {
    "name": "R-002 data-* is preserved as attribute",
    "markup": "<div data-id=\"x ${y} z\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "data-id", "to": "data-id", "target": "attribute" }
      ]
    }
  },
  {
    "name": "R-003 aria-* is preserved as attribute",
    "markup": "<div aria-label=\"Hi ${name}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "aria-label", "to": "aria-label", "target": "attribute" }
      ]
    }
  },
  {
    "name": "R-004 textcontent.bind → textContent (toView) on <div>",
    "markup": "<div textcontent.bind=\"x\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "textContent", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-005 class.bind normalizes to className (toView)",
    "markup": "<div class.bind=\"c\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "className", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-006 colon shorthand :class → className (toView)",
    "markup": "<div :class=\"c\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "className", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-007 input value.bind defaults to twoWay",
    "markup": "<input value.bind=\"x\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "value", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-008 input checked.bind defaults to twoWay",
    "markup": "<input checked.bind=\"x\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "checked", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-009 textarea value.bind defaults to twoWay",
    "markup": "<textarea value.bind=\"x\"></textarea>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "value", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-010 select value.bind defaults to twoWay",
    "markup": "<select value.bind=\"x\"></select>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "value", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-011 div scrollTop.bind → twoWay via global default",
    "markup": "<div scrolltop.bind=\"n\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "scrollTop", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-012 @click on <button> resolves to MouseEvent",
    "markup": "<button @click=\"go()\"></button>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "MouseEvent" }
      ]
    }
  },
  {
    "name": "R-013 click.capture sets capture flag",
    "markup": "<button click.capture=\"go()\"></button>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "MouseEvent", "capture": true }
      ]
    }
  },
  {
    "name": "R-014 @click:once carries modifier",
    "markup": "<button @click:once=\"go()\"></button>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "MouseEvent", "modifier": "once" }
      ]
    }
  },
  {
    "name": "R-015 unknown event produces AU1103",
    "markup": "<div @xyz=\"fn()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "xyz", "type": "unknown" }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-016 unknown property produces AU1104",
    "markup": "<div foo.bind=\"x\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "foo", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-017 label for=\"${...}\" → htmlFor (native)",
    "markup": "<label for=\"x ${y}\"></label>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "for", "to": "htmlFor", "target": "native" }
      ]
    }
  },
  {
    "name": "R-018 img usemap=\"${...}\" → useMap (native)",
    "markup": "<img usemap=\"a ${b}\">",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "usemap", "to": "useMap", "target": "native" }
      ]
    }
  },
  {
    "name": "R-019 td rowspan=\"${...}\" → rowSpan (native)",
    "markup": "<table><tr><td rowspan=\"a ${b}\"></td></tr></table>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "rowspan", "to": "rowSpan", "target": "native" }
      ]
    }
  },
  {
    "name": "R-020 input inputmode interpolation → inputMode (unknown target)",
    "markup": "<input inputmode=\"x ${y}\">",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "inputmode", "to": "inputMode", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-021 input readonly.bind → readOnly (toView, unknown target)",
    "markup": "<input readonly.bind=\"r\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "readOnly", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-022 div contenteditable interpolation → contentEditable (unknown target)",
    "markup": "<div contenteditable=\"a ${b}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "contenteditable", "to": "contentEditable", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-023 style.prop targets style object",
    "markup": "<div bg.style=\"a + b\"></div>",
    "expect": {
      "items": [
        { "kind": "style", "to": "bg", "target": "style" }
      ]
    }
  },
  {
    "name": "R-024 ref=el → element ref",
    "markup": "<div ref=el></div>",
    "expect": {
      "items": [
        { "kind": "ref", "on": "element" }
      ]
    }
  },
  {
    "name": "R-025 view-model.ref → component ref",
    "markup": "<my-el view-model.ref=\"vm\"></my-el>",
    "expect": {
      "items": [
        { "kind": "ref", "on": "component" }
      ]
    }
  },
  {
    "name": "R-026 au-compose bindable: subject.bind resolves to bindable (toView)",
    "markup": "<au-compose subject.bind=\"s\"></au-compose>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "subject", "target": "bindable", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-027 with.bind → controller value (effectiveMode 'default')",
    "markup": "<div with.bind=\"ctx\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "with", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-028 if.bind → controller value (effectiveMode 'default')",
    "markup": "<div if.bind=\"cond\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "if", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-029 promise.bind → controller value (effectiveMode 'default')",
    "markup": "<div promise.bind=\"p\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "promise", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-030 switch.bind → controller value (effectiveMode 'default')",
    "markup": "<div switch.bind=\"x\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "switch", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-031 portal.bind → controller value (effectiveMode 'default')",
    "markup": "<div portal.bind=\"t\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "portal", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-032 repeat.for header normalized to iteratorProp 'items'",
    "markup": "<ul repeat.for=\"i of items\"></ul>",
    "expect": {
      "items": [
        { "kind": "iterator", "res": "repeat", "to": "items" }
      ]
    }
  },
  {
    "name": "R-033 attribute override: class.attr maps to className",
    "markup": "<div class.attr=\"a + b\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "class", "to": "className", "target": "native" }
      ]
    }
  },
  {
    "name": "R-034 per-element event override: button@click → PointerEvent",
    "semOverrides": {
      "events": {
        "byElement": {
          "button": {
            "click": { "kind": "ts", "name": "PointerEvent" }
          }
        }
      }
    },
    "markup": "<button @click=\"go()\"></button>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "PointerEvent" }
      ]
    }
  },
  {
    "name": "R-035 input minlength.bind → minLength (toView, unknown target)",
    "markup": "<input minlength.bind=\"x\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "minLength", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-036 div title interpolation → title (unknown target)",
    "markup": "<div title=\"a ${b}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "title", "to": "title", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-037 tabindex.bind → tabIndex (unknown on <div>)",
    "markup": "<div tabindex.bind=\"i\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "tabIndex", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-038 outerhtml.bind → outerHTML (unknown on <div>)",
    "markup": "<div outerhtml.bind=\"s\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "outerHTML", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-039 innerhtml.bind → innerHTML (native on <div>)",
    "markup": "<div innerhtml.bind=\"s\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "innerHTML", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-040 :scroll-left forces toView (wins over global twoWay) on <div>",
    "markup": "<div :scroll-left=\"n\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "scrollLeft", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-041 scrollleft.bind defaults to twoWay via globalProps",
    "markup": "<div scrollleft.bind=\"n\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "scrollLeft", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-042 :textcontent toView on <div>",
    "markup": "<div :textcontent=\"s\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "textContent", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-043 input formtarget.bind → formTarget (unknown target)",
    "markup": "<input formtarget.bind=\"t\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "formTarget", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-044 textarea maxlength.bind → maxLength (unknown target)",
    "markup": "<textarea maxlength.bind=\"n\"></textarea>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "maxLength", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-045 input minlength interpolation → minLength (unknown target)",
    "markup": "<input minlength=\"x ${y}\">",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "minlength", "to": "minLength", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-046 input valueAsNumber.bind defaults to twoWay",
    "markup": "<input valueasnumber.bind=\"n\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "valueAsNumber", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-047 input valueAsDate.bind defaults to twoWay",
    "markup": "<input valueasdate.bind=\"d\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "valueAsDate", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-048 input files.bind defaults to twoWay",
    "markup": "<input files.bind=\"f\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "files", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-049 input disabled.bind is native toView",
    "markup": "<input disabled.bind=\"d\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "disabled", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-050 button disabled.bind is native toView",
    "markup": "<button disabled.bind=\"d\"></button>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "disabled", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-051 option selected.bind defaults to twoWay",
    "markup": "<option selected.bind=\"s\"></option>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "selected", "target": "native", "effectiveMode": "twoWay" }
      ]
    }
  },
  {
    "name": "R-052 option value.bind is toView (per DOM schema)",
    "markup": "<option value.bind=\"v\"></option>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "value", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-053 select multiple.bind toView",
    "markup": "<select multiple.bind=\"m\"></select>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "multiple", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-054 select disabled.bind toView",
    "markup": "<select disabled.bind=\"d\"></select>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "disabled", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-055 style attribute interpolation targets native style prop",
    "markup": "<div style=\"a ${b} c\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "style", "to": "style", "target": "native" }
      ]
    }
  },
  {
    "name": "R-056 label for.bind → htmlFor (native)",
    "markup": "<label for.bind=\"id\"></label>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "htmlFor", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-057 img usemap.bind → useMap (native)",
    "markup": "<img usemap.bind=\"m\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "useMap", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-058 td rowSpan.bind → native",
    "markup": "<table><tr><td rowspan.bind=\"r\"></td></tr></table>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "rowSpan", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-059 th colSpan.bind → native",
    "markup": "<table><tr><th colspan.bind=\"c\"></th></tr></table>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "colSpan", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-060 camelCase fallback for attr interpolation: foo-bar → fooBar (unknown) on <div>",
    "markup": "<div foo-bar=\"a ${b}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "foo-bar", "to": "fooBar", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-061 className.bind stays className (native)",
    "markup": "<div classname.bind=\"c\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "className", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-062 input readonly.bind → readOnly (toView, unknown target)",
    "markup": "<input readonly.bind=\"r\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "readOnly", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-063 @input on <input> resolves to InputEvent",
    "markup": "<input @input=\"onInput()\">",
    "expect": {
      "items": [
        { "kind": "event", "to": "input", "type": "InputEvent" }
      ]
    }
  },
  {
    "name": "R-064 @keydown on <div> resolves to KeyboardEvent",
    "markup": "<div @keydown=\"k()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "keydown", "type": "KeyboardEvent" }
      ]
    }
  },
  {
    "name": "R-065 @keyup on <div> resolves to KeyboardEvent",
    "markup": "<div @keyup=\"k()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "keyup", "type": "KeyboardEvent" }
      ]
    }
  },
  {
    "name": "R-066 @submit on <form> resolves to SubmitEvent",
    "markup": "<form @submit=\"s()\"></form>",
    "expect": {
      "items": [
        { "kind": "event", "to": "submit", "type": "SubmitEvent" }
      ]
    }
  },
  {
    "name": "R-067 @change on <input> resolves to Event",
    "markup": "<input @change=\"c()\">",
    "expect": {
      "items": [
        { "kind": "event", "to": "change", "type": "Event" }
      ]
    }
  },
  {
    "name": "R-068 perTag > dom > global precedence (perTag wins)",
    "semOverrides": {
      "naming": {
        "attrToPropGlobal": { "x-map": "xMapGlobal" },
        "perTag": {
          "div": { "x-map": "xMapPerTag" }
        }
      },
      "dom": {
        "elements": {
          "div": {
            "tag": "div",
            "props": {},
            "attrToProp": { "x-map": "xMapDom" }
          }
        }
      }
    },
    "markup": "<div x-map=\"${v}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "x-map", "to": "xMapPerTag", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-069 dom.attrToProp > global precedence (dom wins)",
    "semOverrides": {
      "naming": {
        "attrToPropGlobal": { "y-map": "yMapGlobal" }
      },
      "dom": {
        "elements": {
          "div": {
            "tag": "div",
            "props": {},
            "attrToProp": { "y-map": "yMapDom" }
          }
        }
      }
    },
    "markup": "<div y-map=\"${v}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "y-map", "to": "yMapDom", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-070 with (value-less) → controller.value stays default",
    "markup": "<div with></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "with", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-071 if (value-less) → controller.value stays default",
    "markup": "<div if></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "if", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-072 portal (value-less) → controller.value stays default",
    "markup": "<div portal></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "portal", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-073 promise (value-less) → controller.value stays default",
    "markup": "<div promise></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "promise", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-074 switch (value-less) → controller.value stays default",
    "markup": "<div switch></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "switch", "to": "value", "target": "controller", "effectiveMode": "default" }
      ]
    }
  },
  {
    "name": "R-075 repeat.for header only → iterator to 'items'",
    "markup": "<ol repeat.for=\"x of xs\"></ol>",
    "expect": {
      "items": [
        { "kind": "iterator", "res": "repeat", "to": "items" }
      ]
    }
  },
  {
    "name": "R-076 .class override → className (native)",
    "markup": "<div d.class=\"expr\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "class", "to": "className", "target": "native" }
      ]
    }
  },
  {
    "name": "R-077 class.attr (attribute override) normalized to className (native)",
    "markup": "<div class.attr=\"a+b\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "class", "to": "className", "target": "native" }
      ]
    }
  },
  {
    "name": "R-078 style.prop with kebab CSS property",
    "markup": "<div background-color.style=\"clr\"></div>",
    "expect": {
      "items": [
        { "kind": "style", "to": "background-color", "target": "style" }
      ]
    }
  },
  {
    "name": "R-079 ref=el → element ref",
    "markup": "<span ref=el></span>",
    "expect": {
      "items": [
        { "kind": "ref", "on": "element" }
      ]
    }
  },
  {
    "name": "R-080 view-model.ref → component ref",
    "markup": "<my-card view-model.ref=\"vm\"></my-card>",
    "expect": {
      "items": [
        { "kind": "ref", "on": "component" }
      ]
    }
  },
  {
    "name": "R-081 @focus on <input> resolves to FocusEvent",
    "markup": "<input @focus=\"f()\">",
    "expect": {
      "items": [
        { "kind": "event", "to": "focus", "type": "FocusEvent" }
      ]
    }
  },
  {
    "name": "R-082 @blur on <input> resolves to FocusEvent",
    "markup": "<input @blur=\"b()\">",
    "expect": {
      "items": [
        { "kind": "event", "to": "blur", "type": "FocusEvent" }
      ]
    }
  },
  {
    "name": "R-083 title interpolation on <span> → unknown target + AU1104",
    "markup": "<span title=\"a ${b}\"></span>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "title", "to": "title", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-084 input type.bind → type (toView, unknown target)",
    "markup": "<input type.bind=\"t\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "type", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-085 :className toView (already camelCase) on <div>",
    "markup": "<div :classname=\"cls\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "className", "target": "native", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-086 img usemap interpolation → useMap (native)",
    "markup": "<img usemap=\"a ${b}\">",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "usemap", "to": "useMap", "target": "native" }
      ]
    }
  },
  {
    "name": "R-087 label for interpolation → htmlFor (native)",
    "markup": "<label for=\"x ${y}\"></label>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "for", "to": "htmlFor", "target": "native" }
      ]
    }
  },
  {
    "name": "R-088 input inputmode.bind → inputMode (unknown target)",
    "markup": "<input inputmode.bind=\"m\">",
    "expect": {
      "items": [
        { "kind": "prop", "to": "inputMode", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-089 textarea maxlength interpolation → maxLength (unknown target)",
    "markup": "<textarea maxlength=\"a ${b}\"></textarea>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "maxlength", "to": "maxLength", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-090 th rowspan interpolation → rowSpan (native)",
    "markup": "<table><tr><th rowspan=\"a ${b}\"></th></tr></table>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "rowspan", "to": "rowSpan", "target": "native" }
      ]
    }
  },
  {
    "name": "R-091 au-compose bindable 'model.bind' resolves to bindable toView",
    "markup": "<au-compose model.bind=\"m\"></au-compose>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "model", "target": "bindable", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-092 au-slot bindable 'name.bind' resolves to bindable toView",
    "markup": "<au-slot name.bind=\"n\"></au-slot>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "name", "target": "bindable", "effectiveMode": "toView" }
      ]
    }
  },
  {
    "name": "R-093 unknown event when global event map is emptied",
    "semOverrides": {
      "events": {
        "byName": {}
      }
    },
    "markup": "<div @click=\"go()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "unknown" }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-094 class.bind becomes unknown when <div> DOM props are cleared",
    "semOverrides": {
      "dom": {
        "elements": {
          "div": {
            "tag": "div",
            "props": {},
            "attrToProp": {}
          }
        }
      }
    },
    "markup": "<div class.bind=\"c\"></div>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "className", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-095 label htmlFor unknown when label DOM props are cleared",
    "semOverrides": {
      "dom": {
        "elements": {
          "label": {
            "tag": "label",
            "props": {},
            "attrToProp": { "for": "htmlFor" }
          }
        }
      }
    },
    "markup": "<label for.bind=\"id\"></label>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "htmlFor", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-096 img useMap unknown when img DOM props are cleared",
    "semOverrides": {
      "dom": {
        "elements": {
          "img": {
            "tag": "img",
            "props": {},
            "attrToProp": { "usemap": "useMap" }
          }
        }
      }
    },
    "markup": "<img usemap=\"a ${b}\">",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "usemap", "to": "useMap", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-097 unknown event name produces AU1103",
    "markup": "<div @transitionend=\"onEnd()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "transitionend", "type": "unknown" }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-098 property binding on <template> has no element → AU1104",
    "markup": "<template title.bind=\"t\"></template>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "title", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-099 attribute interpolation on unknown attr → AU1104",
    "markup": "<div foo=\"a ${b}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "foo", "to": "foo", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-100 unknown property inside value-less controller still yields AU1104 (nested)",
    "markup": "<div if foo.bind=\"x\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "if", "to": "value", "target": "controller", "effectiveMode": "default" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-101 au-slot unknown bindable → AU1104",
    "markup": "<au-slot foo.bind=\"x\"></au-slot>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "foo", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-102 au-compose unknown bindable → AU1104",
    "markup": "<au-compose bogus.bind=\"x\"></au-compose>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "bogus", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-103 unknown custom element tag → property target unknown",
    "markup": "<x-unknown bar.bind=\"y\"></x-unknown>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "bar", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-104 clear both global and per-element event maps → AU1103 for input event",
    "semOverrides": {
      "events": {
        "byName": {},
        "byElement": {}
      }
    },
    "markup": "<input @input=\"h()\">",
    "expect": {
      "items": [
        { "kind": "event", "to": "input", "type": "unknown" }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-105 click.capture unknown when events removed",
    "semOverrides": {
      "events": {
        "byName": {}
      }
    },
    "markup": "<div click.capture=\"go()\"></div>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "unknown", "capture": true }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-106 label for interpolation unknown after clearing label props",
    "semOverrides": {
      "dom": {
        "elements": {
          "label": {
            "tag": "label",
            "props": {},
            "attrToProp": { "for": "htmlFor" }
          }
        }
      }
    },
    "markup": "<label for=\"x ${y}\"></label>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "for", "to": "htmlFor", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-107 au-compose 'subject.bind' becomes unknown when removed from bindables",
    "semOverrides": {
      "resources": {
        "elements": {
          "au-compose": {
            "kind": "element",
            "name": "au-compose",
            "boundary": true,
            "containerless": false,
            "bindables": {}
          }
        }
      }
    },
    "markup": "<au-compose subject.bind=\"s\"></au-compose>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "subject", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-108 select value.bind becomes unknown when select props are cleared",
    "semOverrides": {
      "dom": {
        "elements": {
          "select": {
            "tag": "select",
            "props": {},
            "attrToProp": {}
          }
        }
      }
    },
    "markup": "<select value.bind=\"x\"></select>",
    "expect": {
      "items": [
        { "kind": "prop", "to": "value", "target": "unknown", "effectiveMode": "toView" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-109 @click unknown on <button> when both global and per-element maps are empty",
    "semOverrides": {
      "events": {
        "byName": {},
        "byElement": {
          "button": {}
        }
      }
    },
    "markup": "<button @click=\"go()\"></button>",
    "expect": {
      "items": [
        { "kind": "event", "to": "click", "type": "unknown" }
      ],
      "diags": [
        { "code": "AU1103" }
      ]
    }
  },
  {
    "name": "R-110 attribute interpolation normalized by perTag to a missing prop → AU1104",
    "semOverrides": {
      "naming": {
        "perTag": {
          "div": { "z-map": "zMapped" }
        }
      },
      "dom": {
        "elements": {
          "div": {
            "tag": "div",
            "props": {},
            "attrToProp": {}
          }
        }
      }
    },
    "markup": "<div z-map=\"x ${y}\"></div>",
    "expect": {
      "items": [
        { "kind": "attr", "attr": "z-map", "to": "zMapped", "target": "unknown" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  },
  {
    "name": "R-111 unknown property on nested controller host produces AU1104 (controller present)",
    "markup": "<div with.bind=\"ctx\" foo.bind=\"x\"></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "with", "to": "value", "target": "controller", "effectiveMode": "default" }
      ],
      "diags": [
        { "code": "AU1104" }
      ]
    }
  }
]
