{
  "$schema": "../../schemas/resource-graph.schema.json",
  "$comment": "Expected ResourceGraph output for explicit-app. Update as resolution implementation evolves.",

  "globalScope": {
    "customElements": [
      {
        "name": "my-app",
        "source": "src/my-app.ts",
        "exportName": "MyApp",
        "bindables": [],
        "template": "src/my-app.html"
      },
      {
        "name": "nav-bar",
        "source": "src/components/nav-bar.ts",
        "exportName": "NavBar",
        "bindables": [],
        "template": "src/components/nav-bar.html"
      },
      {
        "name": "user-card",
        "source": "src/components/user-card.ts",
        "exportName": "UserCard",
        "containerless": true,
        "bindables": [
          { "name": "name", "mode": "toView" },
          { "name": "avatar", "mode": "toView" },
          { "name": "selected", "mode": "twoWay" }
        ],
        "template": "src/components/user-card.html"
      },
      {
        "name": "data-grid",
        "source": "src/components/data-grid.ts",
        "exportName": "DataGrid",
        "aliases": ["grid", "table-view"],
        "containerless": true,
        "bindables": [
          { "name": "items", "mode": "toView" },
          { "name": "columns", "mode": "twoWay" },
          { "name": "pageSize", "attribute": "page-size", "mode": "toView" }
        ],
        "template": "src/components/data-grid.html"
      },
      {
        "name": "product-card",
        "source": "src/widgets/product-card.ts",
        "exportName": "ProductCard",
        "bindables": [
          { "name": "name", "mode": "toView" },
          { "name": "price", "mode": "toView" },
          { "name": "inStock", "mode": "toView" },
          { "name": "stockCount", "mode": "toView" }
        ],
        "template": "src/widgets/product-card.html",
        "localDependencies": ["price-tag", "stock-badge"]
      },
      {
        "name": "fancy-button",
        "source": "src/static-au/fancy-button.ts",
        "exportName": "FancyButton",
        "aliases": ["btn", "action-button"],
        "bindables": [
          { "name": "label", "mode": "toView" },
          { "name": "disabled", "mode": "fromView" },
          { "name": "variant", "mode": "toView" }
        ],
        "definedVia": "static-$au"
      }
    ],

    "customAttributes": [
      {
        "name": "tooltip",
        "source": "src/attributes/tooltip.ts",
        "exportName": "TooltipCustomAttribute",
        "bindables": [
          { "name": "text", "mode": "toView" }
        ]
      },
      {
        "name": "highlight",
        "source": "src/attributes/highlight.ts",
        "exportName": "HighlightCustomAttribute",
        "bindables": [
          { "name": "color", "primary": true, "mode": "toView" },
          { "name": "intensity", "mode": "toView" }
        ]
      }
    ],

    "valueConverters": [
      {
        "name": "date",
        "source": "src/value-converters/date-format.ts",
        "exportName": "DateFormatValueConverter"
      },
      {
        "name": "currency",
        "source": "src/value-converters/currency.ts",
        "exportName": "CurrencyValueConverter",
        "definedVia": "static-$au"
      }
    ],

    "bindingBehaviors": [
      {
        "name": "debounce",
        "source": "src/binding-behaviors/debounce.ts",
        "exportName": "DebounceBindingBehavior"
      },
      {
        "name": "throttle",
        "source": "src/binding-behaviors/throttle.ts",
        "exportName": "ThrottleBindingBehavior"
      }
    ]
  },

  "localScopes": {
    "src/widgets/product-card.ts": {
      "customElements": [
        {
          "name": "price-tag",
          "source": "src/widgets/price-tag.ts",
          "exportName": "PriceTag",
          "bindables": [
            { "name": "amount", "mode": "toView" },
            { "name": "currency", "mode": "toView" }
          ]
        },
        {
          "name": "stock-badge",
          "source": "src/widgets/stock-badge.ts",
          "exportName": "StockBadge",
          "bindables": [
            { "name": "inStock", "attribute": "in-stock", "mode": "toView" },
            { "name": "count", "mode": "toView" }
          ]
        }
      ]
    }
  },

  "registrationEvidence": {
    "$comment": "Traces how each resource was determined to be global vs local",
    "global": {
      "nav-bar": {
        "via": "barrel",
        "path": ["src/main.ts", "src/components/index.ts", "src/components/nav-bar.ts"]
      },
      "user-card": {
        "via": "barrel",
        "path": ["src/main.ts", "src/components/index.ts", "src/components/user-card.ts"]
      },
      "data-grid": {
        "via": "barrel",
        "path": ["src/main.ts", "src/components/index.ts", "src/components/data-grid.ts"]
      },
      "tooltip": {
        "via": "barrel",
        "path": ["src/main.ts", "src/attributes/index.ts", "src/attributes/tooltip.ts"]
      },
      "highlight": {
        "via": "barrel",
        "path": ["src/main.ts", "src/attributes/index.ts", "src/attributes/highlight.ts"]
      },
      "date": {
        "via": "barrel",
        "path": ["src/main.ts", "src/value-converters/index.ts", "src/value-converters/date-format.ts"]
      },
      "currency": {
        "via": "barrel",
        "path": ["src/main.ts", "src/value-converters/index.ts", "src/value-converters/currency.ts"]
      },
      "debounce": {
        "via": "barrel",
        "path": ["src/main.ts", "src/binding-behaviors/index.ts", "src/binding-behaviors/debounce.ts"]
      },
      "throttle": {
        "via": "barrel",
        "path": ["src/main.ts", "src/binding-behaviors/index.ts", "src/binding-behaviors/throttle.ts"]
      },
      "fancy-button": {
        "via": "barrel",
        "path": ["src/main.ts", "src/static-au/index.ts", "src/static-au/fancy-button.ts"]
      }
    },
    "local": {
      "price-tag": {
        "via": "static-dependencies",
        "owner": "src/widgets/product-card.ts"
      },
      "stock-badge": {
        "via": "static-dependencies",
        "owner": "src/widgets/product-card.ts"
      }
    }
  }
}
