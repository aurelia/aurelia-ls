[
  {
    "name": "LR-01 custom element alias containerless + bindable",
    "semOverrides": {
      "resources": {
        "elements": {
          "x-widget": {
            "kind": "element",
            "name": "x-widget",
            "aliases": [ "x-alias" ],
            "boundary": true,
            "containerless": true,
            "bindables": {
              "foo": { "name": "foo", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<div as-element=\"x-alias\" foo.bind=\"bar\"></div>",
    "expect": {
      "expressions": [
        { "kind": "propCommand", "code": "bar", "command": "bind" }
      ],
      "elements": [
        { "res": "x-widget", "containerless": true, "props": [ "foo" ] }
      ]
    }
  },
  {
    "name": "LR-02 custom attribute alias hydrates attribute with bindable",
    "semOverrides": {
      "resources": {
        "attributes": {
          "fancy-attr": {
            "kind": "attribute",
            "name": "fancy-attr",
            "aliases": [ "fancy" ],
            "isTemplateController": false,
            "bindables": {
              "value": { "name": "value", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<div fancy.bind=\"x\"></div>",
    "expect": {
      "expressions": [
        { "kind": "propCommand", "code": "x", "command": "bind" }
      ],
      "attributes": [
        { "res": "fancy-attr", "alias": "fancy", "props": [ "value" ] }
      ]
    }
  },
  {
    "name": "LR-03 custom element literal bindable emits setProperty",
    "semOverrides": {
      "resources": {
        "elements": {
          "x-panel": {
            "kind": "element",
            "name": "x-panel",
            "boundary": true,
            "bindables": {
              "title": { "name": "title", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<x-panel title=\"Hello\"></x-panel>",
    "expect": {
      "expressions": [],
      "elements": [
        { "res": "x-panel", "containerless": false, "props": [ "title" ] }
      ]
    }
  },
  {
    "name": "LR-04 custom element interpolation on bindable emits attributeBinding",
    "semOverrides": {
      "resources": {
        "elements": {
          "x-panel": {
            "kind": "element",
            "name": "x-panel",
            "boundary": true,
            "bindables": {
              "title": { "name": "title", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<x-panel title=\"Hi ${name}\"></x-panel>",
    "expect": {
      "expressions": [
        { "kind": "attrInterpolation", "on": "title", "code": "name" }
      ],
      "elements": [
        { "res": "x-panel", "containerless": false, "props": [ "title" ] }
      ]
    }
  },
  {
    "name": "LR-05 custom element bindable wins over same-named custom attribute",
    "semOverrides": {
      "resources": {
        "elements": {
          "x-thing": {
            "kind": "element",
            "name": "x-thing",
            "boundary": true,
            "bindables": {
              "fancy": { "name": "fancy", "mode": "toView" }
            }
          }
        },
        "attributes": {
          "fancy": {
            "kind": "attribute",
            "name": "fancy",
            "isTemplateController": false,
            "bindables": {
              "value": { "name": "value", "mode": "toView" }
            },
            "primary": "value"
          }
        }
      }
    },
    "markup": "<x-thing fancy.bind=\"vm\"></x-thing>",
    "expect": {
      "expressions": [
        { "kind": "propCommand", "code": "vm", "command": "bind" }
      ],
      "elements": [
        { "res": "x-thing", "containerless": false, "props": [ "fancy" ] }
      ],
      "attributes": []
    }
  },
  {
    "name": "LR-06 custom attribute literal binds primary property",
    "semOverrides": {
      "resources": {
        "attributes": {
          "note": {
            "kind": "attribute",
            "name": "note",
            "isTemplateController": false,
            "bindables": {
              "value": { "name": "value", "mode": "toView" }
            },
            "primary": "value"
          }
        }
      }
    },
    "markup": "<div note=\"hello\"></div>",
    "expect": {
      "expressions": [],
      "attributes": [
        { "res": "note", "alias": null, "props": [ "value" ] }
      ]
    }
  },
  {
    "name": "LR-07 multi-binding with escaped semicolon in value",
    "semOverrides": {
      "resources": {
        "attributes": {
          "nav": {
            "kind": "attribute",
            "name": "nav",
            "isTemplateController": false,
            "bindables": {
              "route": { "name": "route", "mode": "toView" },
              "params": { "name": "params", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<div nav=\"route: page\\;extra; params.bind: x\"></div>",
    "expect": {
      "expressions": [
        { "kind": "propCommand", "code": "x", "command": "bind" }
      ],
      "attributes": [
        { "res": "nav", "alias": null, "props": [ "route", "params" ] }
      ]
    }
  },
  {
    "name": "LR-08 multi-binding detection skips escaped colon in key",
    "semOverrides": {
      "resources": {
        "attributes": {
          "nav": {
            "kind": "attribute",
            "name": "nav",
            "isTemplateController": false,
            "bindables": {
              "route": { "name": "route", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<div nav=\"foo\\:: bar; route: home\"></div>",
    "expect": {
      "expressions": [],
      "attributes": [
        { "res": "nav", "alias": null, "props": [ "route" ] }
      ]
    }
  },
  {
    "name": "LR-09 interpolation before colon is not multi-binding",
    "semOverrides": {
      "resources": {
        "attributes": {
          "nav": {
            "kind": "attribute",
            "name": "nav",
            "isTemplateController": false,
            "bindables": {
              "value": { "name": "value", "mode": "toView" }
            },
            "primary": "value"
          }
        }
      }
    },
    "markup": "<div nav=\"${x}: not a colon binding\"></div>",
    "expect": {
      "expressions": [
        { "kind": "attrInterpolation", "on": "nav", "code": "x" }
      ],
      "attributes": [
        { "res": "nav", "alias": null, "props": [ "value" ] }
      ]
    }
  },
  {
    "name": "LR-10 multi-binding with interpolation in value",
    "semOverrides": {
      "resources": {
        "attributes": {
          "nav": {
            "kind": "attribute",
            "name": "nav",
            "isTemplateController": false,
            "bindables": {
              "route": { "name": "route", "mode": "toView" },
              "title": { "name": "title", "mode": "toView" }
            }
          }
        }
      }
    },
    "markup": "<div nav=\"route: home; title: Go to ${page}\"></div>",
    "expect": {
      "expressions": [
        { "kind": "attrInterpolation", "on": "title", "code": "page" }
      ],
      "attributes": [
        { "res": "nav", "alias": null, "props": [ "route", "title" ] }
      ]
    }
  },
  {
    "name": "LR-11 custom attribute with no bindables (fallback to null path)",
    "semOverrides": {
      "resources": {
        "attributes": {
          "marker": {
            "kind": "attribute",
            "name": "marker",
            "isTemplateController": false,
            "bindables": {}
          }
        }
      }
    },
    "markup": "<div marker=\"some-value\"></div>",
    "expect": {
      "expressions": [],
      "attributes": [
        { "res": "marker", "alias": null, "props": [] }
      ]
    }
  }
]
