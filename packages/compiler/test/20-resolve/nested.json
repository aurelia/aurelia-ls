[
  {
    "name": "R-N-01 nested promise branches resolved",
    "markup": "<div promise.bind=\"p\"><template then><span textcontent.bind=\"value\"></span></template><template catch><button @click=\"retry()\"></button></template></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "promise", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "ctrlProp", "res": "then", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "branch", "res": "then", "branch": "then" },
        { "kind": "ctrlProp", "res": "catch", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "branch", "res": "catch", "branch": "catch" },
        { "kind": "prop", "to": "textContent", "target": "native", "effectiveMode": "toView" },
        { "kind": "event", "to": "click", "type": "MouseEvent" }
      ]
    }
  },
  {
    "name": "R-N-02 promise with pending branch resolved",
    "markup": "<div promise.bind=\"p\"><template pending>Loading...</template><template then>Done</template></div>",
    "expect": {
      "items": [
        { "kind": "ctrlProp", "res": "promise", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "ctrlProp", "res": "pending", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "branch", "res": "pending", "branch": "pending" },
        { "kind": "ctrlProp", "res": "then", "to": "value", "target": "controller", "effectiveMode": "toView" },
        { "kind": "branch", "res": "then", "branch": "then" }
      ]
    }
  }
]
