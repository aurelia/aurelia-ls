[
  {
    "name": "TC-TM-01 string literal satisfies string target",
    "markup": "<input value.bind=\"'hello'\">",
    "expect": {
      "expected": [
        { "code": "'hello'", "type": "string" }
      ],
      "inferred": [
        { "code": "'hello'", "type": "string" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-02 number literal mismatches string target",
    "markup": "<input value.bind=\"42\">",
    "expect": {
      "expected": [
        { "code": "42", "type": "string" }
      ],
      "inferred": [
        { "code": "42", "type": "number" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "42", "expected": "string", "actual": "number" }
      ]
    }
  },
  {
    "name": "TC-TM-03 boolean literal satisfies boolean target",
    "markup": "<input disabled.bind=\"true\">",
    "expect": {
      "expected": [
        { "code": "true", "type": "boolean" }
      ],
      "inferred": [
        { "code": "true", "type": "boolean" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-04 string literal mismatches boolean target",
    "markup": "<input disabled.bind=\"'yes'\">",
    "expect": {
      "expected": [
        { "code": "'yes'", "type": "boolean" }
      ],
      "inferred": [
        { "code": "'yes'", "type": "string" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "'yes'", "expected": "boolean", "actual": "string" }
      ]
    }
  },
  {
    "name": "TC-TM-05 number literal satisfies number target",
    "markup": "<td colspan.bind=\"2\"></td>",
    "expect": {
      "expected": [
        { "code": "2", "type": "number" }
      ],
      "inferred": [
        { "code": "2", "type": "number" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-06 string literal mismatches number target",
    "markup": "<td colspan.bind=\"'two'\"></td>",
    "expect": {
      "expected": [
        { "code": "'two'", "type": "number" }
      ],
      "inferred": [
        { "code": "'two'", "type": "string" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "'two'", "expected": "number", "actual": "string" }
      ]
    }
  },
  {
    "name": "TC-TM-07 boolean mismatches number target",
    "markup": "<td rowspan.bind=\"false\"></td>",
    "expect": {
      "expected": [
        { "code": "false", "type": "number" }
      ],
      "inferred": [
        { "code": "false", "type": "boolean" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "false", "expected": "number", "actual": "boolean" }
      ]
    }
  },
  {
    "name": "TC-TM-08 if controller boolean value (correct)",
    "markup": "<div if.bind=\"true\">shown</div>",
    "expect": {
      "expected": [
        { "code": "true", "type": "boolean" }
      ],
      "inferred": [
        { "code": "true", "type": "boolean" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-09 if controller string value (mismatch)",
    "markup": "<div if.bind=\"'show'\">shown</div>",
    "expect": {
      "expected": [
        { "code": "'show'", "type": "boolean" }
      ],
      "inferred": [
        { "code": "'show'", "type": "string" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "'show'", "expected": "boolean", "actual": "string" }
      ]
    }
  },
  {
    "name": "TC-TM-10 show attribute boolean value (correct)",
    "markup": "<div show.bind=\"false\">hidden</div>",
    "expect": {
      "expected": [
        { "code": "false", "type": "boolean" }
      ],
      "inferred": [
        { "code": "false", "type": "boolean" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-11 show attribute number value (mismatch)",
    "markup": "<div show.bind=\"1\">shown</div>",
    "expect": {
      "expected": [
        { "code": "1", "type": "boolean" }
      ],
      "inferred": [
        { "code": "1", "type": "number" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "1", "expected": "boolean", "actual": "number" }
      ]
    }
  },
  {
    "name": "TC-TM-12 multiple bindings with mixed correctness",
    "markup": "<input value.bind=\"'ok'\" disabled.bind=\"99\">",
    "expect": {
      "expected": [
        { "code": "'ok'", "type": "string" },
        { "code": "99", "type": "boolean" }
      ],
      "inferred": [
        { "code": "'ok'", "type": "string" },
        { "code": "99", "type": "number" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "99", "expected": "boolean", "actual": "number" }
      ]
    }
  },
  {
    "name": "TC-TM-13 select multiple boolean (correct)",
    "markup": "<select multiple.bind=\"true\"></select>",
    "expect": {
      "expected": [
        { "code": "true", "type": "boolean" }
      ],
      "inferred": [
        { "code": "true", "type": "boolean" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-14 option selected boolean (correct)",
    "markup": "<option selected.bind=\"false\">opt</option>",
    "expect": {
      "expected": [
        { "code": "false", "type": "boolean" }
      ],
      "inferred": [
        { "code": "false", "type": "boolean" }
      ],
      "diags": []
    }
  },
  {
    "name": "TC-TM-15 checkbox checked with string (mismatch)",
    "markup": "<input type=\"checkbox\" checked.bind=\"'on'\">",
    "expect": {
      "expected": [
        { "code": "'on'", "type": "boolean" }
      ],
      "inferred": [
        { "code": "'on'", "type": "string" }
      ],
      "diags": [
        { "code": "AU1301", "expr": "'on'", "expected": "boolean", "actual": "string" }
      ]
    }
  }
]
